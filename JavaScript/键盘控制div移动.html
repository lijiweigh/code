<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>键盘控制div移动</title>
	<style type="text/css">
		.div1{
			width: 100px;
			height: 100px;
			background-color: red;
			position: absolute;
			top: 0;
			left: 0;
		}
	</style>

	<script type="text/javascript">
		window.onload = function(){
			var odiv = document.getElementById("div1");

			// alert( getComputedStyle(odiv).left );
			// alert( odiv.offsetTop );
			// alert(  "attr"[0].toUpperCase() + "attr".slice(1,"attr".length) );

			document.onkeydown = function(ev){
				var ev = ev || event;
				// move(odiv,"left",3);

				var dir = ev.keyCode;
				// console.log(dir);
				switch(dir){
					case 37: move(odiv,"left",-3) ;
					break;
					case 38: move(odiv,"top",-3) ;;
					break;
					case 39: move(odiv,"left",3) ;;
					break;
					case 40: move(odiv,"top",3) ;;
					break;
				}


			}

		}


		function move(obj,attr,speed){

			clearInterval(obj.timer);

			obj.timer = setInterval(function(){

				obj.style[attr] = obj["offset" + attr[0].toUpperCase() + attr.substring(1,attr.length )] + speed + "px";

			},10);

			document.onkeyup = function(){
				clearInterval(obj.timer);
			}

		}


	</script>


</head>
<body>

	<div class="div1" id="div1"></div>

</body>
</html>
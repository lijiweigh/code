<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>qq列表</title>

	<style type="text/css">
		
		*{
			margin:0;
			padding: 0;
		}

		.main{
			width: 200px;
			border:1px solid #000;
			margin: 50px auto;
		}

		.title{
			height: 20px;
			font-size: 16px;
			line-height: 20px;
			background: green;
			text-indent: 20px;
		}

		li{
			list-style: none;
			border-bottom: 1px solid #000;
			height: 15px;
			line-height: 15px;
			text-indent: 20px;
		}

		ul{
			display: none;
		}

		ul.active{
			display: block;
		}

		.title.active{
			background-color: #ccc;
		}

		li.active{
			background-color: skyblue;
		}



	</style>

	<script src="C:\code\jQuery\jquery-1.12.4.js"></script>

	<script type="text/javascript">
		
		$(function(){

			var regexp = /\bactive\b/;

			// alert( regexp.test("i am active") )

			$("li").eq( $("li").size() -1 ).css("border" , "none");

			$(".title").each( function(i , e){
				$(e).on("click",function(){

					if( regexp.test( $(this).attr("class") ) ){

						$(this).removeClass("active");
						$("ul").eq( $(".title").index(this) ).removeClass("active");
						return;
					}

					$(".title").each(function(i,e){
						$(e).removeClass("active");
					});

					$("ul").each(function(i,e){
						$(e).removeClass("active");
					});

					$(this).addClass("active");

					$("ul").eq( $(".title").index(this) ).addClass("active");

					return false;

				});
			} );


			$("li").on("click",function(){

				$("li").each(function(i,e){
						$(e).removeClass("active");
				});

				$(this).addClass("active");

				return false;

			});

		})

	</script>
</head>
<body>

	<div class="main">
		
		<div class="title">
			我的好友
		</div>
		<ul>
			<li>tom</li>
			<li>tom</li>
			<li>tom</li>
			<li>tom</li>
			<li>tom</li>
		</ul>

		<div class="title">
			我的好友
		</div>
		<ul>
			<li>tom</li>
			<li>tom</li>
			<li>tom</li>
			<li>tom</li>
			<li>tom</li>
		</ul>

		<div class="title">
			我的好友
		</div>
		<ul>
			<li>tom</li>
			<li>tom</li>
			<li>tom</li>
			<li>tom</li>
			<li>tom</li>
		</ul>

	</div>

</body>
</html>